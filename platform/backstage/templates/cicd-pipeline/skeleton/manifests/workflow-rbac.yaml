# This file intentionally left minimal - most resources are now managed by Kro CICDPipeline
# Only keeping resources that Kro doesn't create

# Additional ServiceAccount for workflow operations (different from the main one Kro creates)
apiVersion: v1
kind: ServiceAccount
metadata:
  name: ${{values.appname}}-operate-workflow-sa
  namespace: ${{values.namespace}}
  labels:
    app.kubernetes.io/name: ${{values.appname}}
    app.kubernetes.io/component: cicd-pipeline
---
# Additional RoleBinding for workflow operations
apiVersion: rbac.authorization.k8s.io/v1
kind: RoleBinding
metadata:
  name: ${{values.appname}}-operate-workflow-sa-binding
  namespace: ${{values.namespace}}
subjects:
- kind: ServiceAccount
  name: ${{values.appname}}-operate-workflow-sa
  namespace: ${{values.namespace}}
roleRef:
  kind: ClusterRole
  name: argo-workflows-server
  apiGroup: rbac.authorization.k8s.io
