spark-operator:
  # Use the correct image from kubeflow registry
  image:
    repository: ghcr.io/kubeflow/spark-operator/controller
    tag: "2.3.0"
    pullPolicy: IfNotPresent

  # Webhook configuration with correct port
  webhook:
    enable: true
    port: 9443  # Standard HTTPS webhook port
    portName: webhook
    failurePolicy: Fail
    timeoutSeconds: 10

  # Service accounts
  serviceAccounts:
    spark:
      create: true
    sparkoperator:
      create: true

  # RBAC
  rbac:
    create: true

  # Resources
  resources:
    limits:
      cpu: 200m
      memory: 300Mi
    requests:
      cpu: 100m
      memory: 200Mi

  # Security context
  securityContext:
    runAsNonRoot: true
    runAsUser: 1000
